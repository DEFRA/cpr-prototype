{% extends "layout-private-beta-research.html" %}

{% set serviceName = "Report packaging data" %}

{% block pageTitle %}
{{ serviceName }}
{% endblock %}

{% block header %}
{# Set serviceName in config.js. #}

{{ govukHeader({
homepageUrl: "https://defra-cpr-prototype.herokuapp.com/small-producers/small-producers-index",
serviceName: serviceName,
serviceUrl: "#",
navigation: [
{ href: "landing-page.html", text: "Home" },
{ href: "#", text: "Manage account" },
{ href: "#", text: "Sign out" }
]
}) }}

{{ govukPhaseBanner({
tag: { text: "prototype" },
html: 'This is not a live service.',
classes: 'govuk-width-container'
}) }}
{% endblock %}

{% block beforeContent %}
<a class="govuk-back-link" href="javascript:window.history.back()">Back</a>
{% endblock %}

{% block content %}
<!-- Page layout start 1 -->
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <div class="govuk-form-group govuk-!-margin-top-0">
      <h1 class="govuk-heading-l">Acme Limited registration</h1>
      <!-- Page layout end 1 -->

      <p class="govuk-body">In the UK, an approved person or their delegate is responsible for submitting information to
        the environmental regulator for Extended Producer Responsibility (EPR) for packaging.</p>

      <p class="govuk-body"><strong>Approved person</strong><br>
        The approved person is legally responsible for ensuring that the data submitted is accurate. They must be a
        director or company secretary of a UK-registered company, or someone who has control or management of the
        producer.</p>

      <p class="govuk-body"><strong>Delegate</strong><br>
        A delegate can be added to submit data on behalf of the approved person. The delegate must have the relevant
        knowledge and access to information, and be sufficiently senior within the organization. They have the same
        legal responsibilities as the approved person. Know more about a <a
          href="https://www.gov.uk/guidance/report-packaging-data#:~:text=within%20the%20account.-,Getting%20approval%20to%20submit%20data,responsibilities%20as%20the%20approved%20person."
          class="govuk-link" rel="noreferrer noopener" target="_blank">delegate person (opens in new tab)</a>. </p>

      <p class="govuk-body">To enroll as an approved person, you can:</p>
      <ol class="govuk-list govuk-list--number">
        <li>Register on the RPD portal</li>
        <li>Obtain your RPD Organisation ID</li>
        <li>Submit your packaging data through the Valpak Members' Area portal </li>
      </ol>

      <p class="govuk-body">You must submit your methodology every 6 months, and notify the regulator if you make any
        changes. Know more about <a
          href="https://www.gov.uk/guidance/packaging-data-tell-us-how-you-collected-it-for-extended-producer-responsibility#:~:text=is%20still%20appropriate.-,Deadlines%20for%20submitting%20your%20methodology,them%20that%20nothing%20has%20changed."
          class="govuk-link" rel="noreferrer noopener" target="_blank">deadlines for submitting your methodology (opens
          in new tab)</a></p>



      <h3 class="govuk-heading-m">Are you an approved or delegated user?</h3>

      <form id="agreementForm">
        {{ govukRadios({
        name: "agreement",
        value: data['agreement'],
        items: [
        {
        value: "yes",
        text: "Yes"

        },
        {
        value: "no",
        text: "No"
        }
        ]
        }) }}
        <br>
        <br>

        {{ govukButton({
        text: "Continue",
        attributes: {
        id: "submitButton",
        onclick: "handleSubmit(event)"
        }
        }) }}
      </form>


      <script>
        function handleSubmit(event) {
          event.preventDefault(); // Prevent form submission

          // Get the form element
          const form = document.getElementById('agreementForm');
          // Get the selected radio button value
          const agreement = form.querySelector('input[name="agreement"]:checked');

          // Check if an option is selected
          if (agreement) {
            // Save the selected value to local storage
            localStorage.setItem('selectedProducer', agreement.value);

            // Route based on the selected value
            if (agreement.value === 'yes') {
              window.location.href = '../comment-box-alternative/task-list-2-large-producer-stage5';
            } else if (agreement.value === 'no') {
              window.location.href = '../comment-box-alternative/task-list-2-large-producer-stage5-disabled';
            }
          } else {
            alert('Please select an option.');
          }
        }
      </script>
      <!-- Content end-->

      <!-- Page layout start 2 -->
    </div>
  </div>
  {% endblock %}

  <!-- Page layout end 2 -->